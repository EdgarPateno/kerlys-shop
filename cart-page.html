<!DOCTYPE html>
<html>

<head>
  <title>KERLYS FASHION - Shop Premium Quality Luxury Bags, Shoes, and Jewellery</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/bootstrap.min.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="js/bootstrap.min.js" type="text/javascript" defer></script>

  <script>
    // JavaScript function to update the cart icon in the navigation menu
    function updateCartIconInMenu(cartItemCount) {
      const cartIcon = document.getElementById("navbar-cart-icon");
      const cartLink = cartIcon.querySelector("a");
      const cartIconHtml = '<i class="fa fa-shopping-cart" style="font-size:30px"></i>';

      if (cartItemCount > 0) {
        const itemCountBadge = `<span class="badge bg-danger">${cartItemCount}</span>`;
        cartLink.innerHTML = `${cartIconHtml}${itemCountBadge}`;
      } else {
        cartLink.innerHTML = cartIconHtml;
      }
    }
  </script>

</head>

<style>
  table {
    border-collapse: separate;
    border-spacing: 20px 0;
  }

  th {
    color: black;
  }

  th,
  td {
    width: 140px;
    text-align: center;
    padding: 5px;
  }

  th.total-heading,
  td.subtotal-cart-page,
  td.checkout-button-cart,
  td.item-price-cart {
    text-align: right;
  }

  .subTotalCart {
    font-weight: bold;
  }

  #delete-button-cart {
    background: none;
    border: none;
    color: #329BD1;
  }

  @media only screen and (max-width: 428px) {
    table {
      border-collapse: collapse;
    }

    td img {
      width: 4rem !important;
    }

    th.total-heading,
    td.subtotal-cart-page,
    td.item-price-cart {
      text-align: center;
    }

    .subTotalCart,
    .checkout-button-cart button {
      position: absolute;
      transform: translate(-50%, -50%);
      left: 50%;
    }
  }

  @media only screen and (max-width: 320px) {
    td img {
      width: 2rem !important;
    }

    td {
      padding: 2px;
    }
  }
</style>

<body>
  <!-- header section -->
  <!-- announcement banner section -->
  <section class="announcement-bar">
    <div id="announcement-banner" class="container-fluid">
      <div class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active" data-bs-interval="3000">
            <h6>Free Shipping On All Orders</h6>
          </div>

          <div class="carousel-item" data-bs-interval="3000">
            <h6>20% OFF On All Items</h6>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end of announcement banner section -->

  <!-- Main Navigation -->
  <section class="site-header sticky-top">
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="images/website_logo.webp" alt="site-logo" width="150" height="auto">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-main-menu"
          aria-controls="navbar-main-menu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-main-menu">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link text-uppercase active" aria-current="page" href="all-bags-menu-main-nav.html">Bags</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-uppercase" href="jewelry-collection.html">Jewellery</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-uppercase" href="shoes-collection.html">Shoes</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-uppercase" href="our-brands-main-nav.html">Our Brands</a>
            </li>
          </ul>

          <form class="d-flex me-3" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button id="navbar-search" class="btn btn-outline-success" type="submit">Search</button>
          </form>

          <div id="navbar-cart-icon" class="d-flex">
            <p><a href="cart-page.html"><i class="fa fa-shopping-cart" style="font-size:30px"></i></a></p>
          </div>

        </div>
      </div>
    </nav>
  </section>
  <!-- end of header section -->

  <!-- Cart Page HTML (cart-page.html) -->

  <section class="cart-page-item-desc my-5">
    <div id="empty-cart-message" class="text-center h3" style="display: none;">Your cart is empty.</div>
    <div id="cart-items-container">
      <h2 class="h1 text-center mb-5">Review Your Cart</h2>
      <div class="item-desc-container justify-content-around d-flex">
        <table>
          <thead>
            <tr>
              <th colspan="2">Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th class="total-heading">Total</th>
            </tr>
          </thead>
          <tbody id="cartItemsTableBody"></tbody>
          <tfoot>
            <tr>
              <td colspan="4"></td>
              <td class="subtotal-cart-page py-5">
                <div class="subTotalCart" id="cartSubtotal">
                  <!-- Subtotal will be dynamically added here -->
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="4"></td>
              <td class="checkout-button-cart">
                <button type="button" class="btn btn-primary">CHECKOUT</button>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>

    <script>
      // Retrieve cart items from session storage and display them in the table
      const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
      const cartItemsTableBody = document.getElementById("cartItemsTableBody");

      cartItems.forEach(item => {
        const row = document.createElement("tr");
        row.innerHTML = `
      <td><img src="${item.image}" alt="${item.title}" style="width: 150px;"></td>
      <td>${item.title}</td>
      <td>$${item.price.toFixed()}</td>
      <td>${item.quantity}</td>
      <td class="item-price-cart">$${(item.price * item.quantity).toFixed()}</td>
    `;
        cartItemsTableBody.appendChild(row);
      });

      // Update cart icon in navigation menu with cart item count
      updateCartIconInMenu(cartItems.length);
    </script>

    <script>
      // Function to calculate and display subtotal
      function updateCartTotals() {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        const subtotalElement = document.createElement("div");
        subtotalElement.className = "subTotalCart";

        let subtotal = 0;
        cartItems.forEach(item => {
          subtotal += item.price * item.quantity;
        });

        subtotalElement.innerHTML = `Subtotal: $${subtotal.toFixed()}`;

        // Clear previous totals
        const existingSubtotal = document.getElementById("cartSubtotal");
        if (existingSubtotal) {
          existingSubtotal.remove();
        }

        // Add new subtotal to the tfoot element
        const tfootElement = document.querySelector("tfoot");
        const tfootRow = tfootElement.querySelector("tr");
        const tdElement = tfootRow.querySelector("td:last-child");
        tdElement.appendChild(subtotalElement);

        // Update cart icon in navigation menu with cart item count
        updateCartIconInMenu(cartItems.length);
      }
    </script>

    <!-- When cart is empty -->
    <script>
      $(document).ready(function () {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Check if the cart is empty
        if (cartItems.length === 0) {
          $('#cart-items-container').hide(); // Hide the table
          $('#empty-cart-message').show(); // Show the empty cart message
        } else {
          $('#cart-items-container').show(); // Show the table
          $('#empty-cart-message').hide(); // Hide the empty cart message
        }
      });
    </script>

    <script>
      // Function to handle item deletion
      function deleteCartItem(index) {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Remove the item at the specified index
        cartItems.splice(index, 1);

        // Update session storage
        localStorage.setItem("cartItems", JSON.stringify(cartItems));

        // Refresh the cart page
        location.reload();
      }
    </script>

    <script>
      // Update the cart items table
      function updateCartItemsTable() {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        const cartItemsTableBody = document.getElementById("cartItemsTableBody");

        cartItemsTableBody.innerHTML = ""; // Clear the existing table content

        cartItems.forEach((item, index) => {
          const row = document.createElement("tr");
          row.innerHTML = `
        <td><img src="${item.image}" alt="${item.title}" style="width: 150px;"></td>
        <td>${item.title}</td>
        <td>$${item.price.toFixed()}</td>
        <td>${item.quantity}</td>
        <td class="item-price-cart">$${(item.price * item.quantity).toFixed()}</td>
        
        <td><button id="delete-button-cart" class="btn btn-sm btn-danger" onclick="deleteCartItem(${index})"><i class="fa fa-trash-o"></i></button></td>

      `;
          cartItemsTableBody.appendChild(row);
        });

        // Update cart totals and icon in navigation menu
        updateCartTotals();
      }

      // Call the function to update cart items table
      updateCartItemsTable();
    </script>

    <!-- <script>
      // Function to handle item deletion
      function deleteCartItem(index) {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Remove the item at the specified index
        cartItems.splice(index, 1);

        // Update session storage
        localStorage.setItem("cartItems", JSON.stringify(cartItems));

        // Update the cart items table and totals
        updateCartItemsTable();
        updateCartTotals();
      }

      // Update the cart items table
      function updateCartItemsTable() {
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        const cartItemsTableBody = document.getElementById("cartItemsTableBody");

        cartItemsTableBody.innerHTML = ""; // Clear the existing table content

        cartItems.forEach((item, index) => {
          const row = document.createElement("tr");
          row.innerHTML = `
        <td><img src="${item.image}" alt="${item.title}" style="width: 150px;"></td>
        <td>${item.title}</td>
        <td>$${item.price.toFixed()}</td>
        <td>${item.quantity}</td>
        <td class="item-price-cart">$${(item.price * item.quantity).toFixed()}</td>
        <td><button class="btn btn-sm btn-danger" onclick="deleteCartItem(${index})"><i class="fas fa-trash"></i></button></td>
      `;
          cartItemsTableBody.appendChild(row);
        });

        // Update cart icon in navigation menu
        updateCartIconInMenu(cartItems.length);
      }

      // Call the function to update cart items table
      updateCartItemsTable();
    </script>
    </script> -->

  </section>

  <!-- Site Footer section -->
  <section class="site-footer pt-5">
    <div class="container-fluid">
      <div class="row row-cols-1 row-cols-md-4 g-4">
        <div class="col">
          <div class="card bg-transparent h-100">
            <div class="card-body">
              <h5 class="card-title">Customer Help</h5>
              <ul class="list-unstyled">
                <li><a href="about-us-page.html">About Us</a></li>
                <li><a href="contact-us-page.html">Contact Us</a></li>
                <li><a href="faq-page.html">FAQs</a></li>
                <li><a href="track-order-page.html">Track Your Order</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-transparent h-100">
            <div class="card-body">
              <h5 class="card-title">Corporate Policies</h5>
              <ul class="list-unstyled">
                <li><a href="shipping-cancellation-page.html">Shipping and Cancellation</a></li>
                <li><a href="refund-policy-page.html">Refund Policy</a></li>
                <li><a href="return-exchange-page.html">Return and Exchange</a></li>
                <li><a href="privacy-policy-page.html">Privacy Policy</a></li>
                <li><a href="terms-of-service-page.html">Terms of Service</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-transparent h-100">
            <div class="card-body">
              <h5 class="card-title">Follow Us On Social Media</h5>
              <ul class="list-unstyled follow-us d-flex">
                <li class="me-2">
                  <a href="https://facebook.com" target="_blank"><i class="fa fa-facebook-square"
                      style="color: white;"></i></a>
                </li>
                <li class="me-2">
                  <a href="https://pinterest.com" target="_blank"><i class="fa fa-pinterest-square"></i></a>
                </li>
                <li class="me-2">
                  <a href="https://twitter.com" target="_blank"><i class="fa fa-twitter-square"></i></a>
                </li>
                <li>
                  <a href="https://instagram.com" target="_blank"><i class="fa fa-instagram"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-transparent h-100">
            <div class="card-body">
              <h5 class="card-title">Friendly Support</h5>
              <p class="card-text">For any questions and concerns, please don't hesitate to contact us below:</p>
              <p><i class="fa fa-envelope" style="font-size:16px;color:white;"></i>&nbsp;support@kerlysfashion.com</p>
              <p><i class="fa fa-mobile-phone" style="font-size:25px;color:white;"></i>&nbsp;<span
                  class="phone-number-footer">+639123456789</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end of Site Footer section -->

  <!-- Footer Bottom Section -->
  <section class="footer-bottom pb-5">
    <div class="container-fluid">
      <div class="d-flex justify-content-between">
        <div class="p-3">&#169;2022, <a class="site-logo-footer-bottom" href="index.html">Kerlys Fashion LTD.</a>
          &nbsp;ALL RIGHTS RESERVED</div>
        <div class="p-3">
          <i class="fa fa-cc-visa" id="payment-method-footer-bottom"></i>
          <i class="fa fa-cc-amex" id="payment-method-footer-bottom"></i>
          <i class="fa fa-cc-mastercard" id="payment-method-footer-bottom"></i>
          <i class="fa fa-cc-discover" id="payment-method-footer-bottom"></i>
          <i class="fa fa-cc-paypal" id="payment-method-footer-bottom"></i>
        </div>
      </div>
    </div>
  </section>
  <!-- end of Footer Bottom Section -->
</body>
<html>